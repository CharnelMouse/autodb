<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Automatic Database Normalisation for Data Frames â€¢ autodb</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Automatic Database Normalisation for Data Frames">
<meta name="description" content='Automatic normalisation of a data frame to third normal form, with the intention of easing the process of data cleaning. (Usage to design your actual database for you is not advised.) Originally inspired by the AutoNormalize library for Python by Alteryx (&lt;https://github.com/alteryx/autonormalize&gt;), with various changes and improvements. Automatic discovery of functional or approximate dependencies, normalisation based on those, and plotting of the resulting "database" via Graphviz, with options to exclude some attributes at discovery time, or remove discovered dependencies at normalisation time.'>
<meta property="og:description" content='Automatic normalisation of a data frame to third normal form, with the intention of easing the process of data cleaning. (Usage to design your actual database for you is not advised.) Originally inspired by the AutoNormalize library for Python by Alteryx (&lt;https://github.com/alteryx/autonormalize&gt;), with various changes and improvements. Automatic discovery of functional or approximate dependencies, normalisation based on those, and plotting of the resulting "database" via Graphviz, with options to exclude some attributes at discovery time, or remove discovered dependencies at normalisation time.'>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">autodb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.2.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/autodb.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/limits.html">Limitations</a></li>
    <li><a class="dropdown-item" href="articles/nudge.html">A larger example: the nudge dataset</a></li>
    <li><a class="dropdown-item" href="articles/null.html">Handling missing values</a></li>
    <li><a class="dropdown-item" href="articles/plans.html">Planned improvements</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CharnelMouse/autodb/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="autodb">autodb<a class="anchor" aria-label="anchor" href="#autodb"></a>
</h1></div>
<p>autodb is an R package for automatic normalisation of a data frame to third normal form, with the intention of easing the process of data cleaning. (Usage to design your actual database for you is not advised.)</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the stable released version from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"autodb"</span><span class="op">)</span></span></code></pre></div>
<p>Install the unstable development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"CharnelMouse/autodb"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Turning a simple data frame into a database:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://charnelmouse.github.io/autodb/">autodb</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'autodb'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     decompose</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ChickWeight</span><span class="op">)</span></span>
<span><span class="co">#&gt;      weight           Time           Chick     Diet   </span></span>
<span><span class="co">#&gt;  Min.   : 35.0   Min.   : 0.00   13     : 12   1:220  </span></span>
<span><span class="co">#&gt;  1st Qu.: 63.0   1st Qu.: 4.00   9      : 12   2:120  </span></span>
<span><span class="co">#&gt;  Median :103.0   Median :10.00   20     : 12   3:120  </span></span>
<span><span class="co">#&gt;  Mean   :121.8   Mean   :10.72   10     : 12   4:118  </span></span>
<span><span class="co">#&gt;  3rd Qu.:163.8   3rd Qu.:16.00   17     : 12          </span></span>
<span><span class="co">#&gt;  Max.   :373.0   Max.   :21.00   19     : 12          </span></span>
<span><span class="co">#&gt;                                  (Other):506</span></span>
<span><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autodb.html">autodb</a></span><span class="op">(</span><span class="va">ChickWeight</span><span class="op">)</span></span>
<span><span class="va">db</span></span>
<span><span class="co">#&gt; database with 2 relations</span></span>
<span><span class="co">#&gt; 4 attributes: weight, Time, Chick, Diet</span></span>
<span><span class="co">#&gt; relation Chick: Chick, Diet; 50 records</span></span>
<span><span class="co">#&gt;   key 1: Chick</span></span>
<span><span class="co">#&gt; relation Time_Chick: Time, Chick, weight; 578 records</span></span>
<span><span class="co">#&gt;   key 1: Time, Chick</span></span>
<span><span class="co">#&gt; references:</span></span>
<span><span class="co">#&gt; Time_Chick.{Chick} -&gt; Chick.{Chick}</span></span>
<span><span class="va">graphviz_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gv.html">gv</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span></span>
<span><span class="fu">DiagrammeR</span><span class="fu">::</span><span class="fu"><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">grViz</a></span><span class="op">(</span><span class="va">graphviz_text</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
<p>Using the <code>exclude</code> argument to forbid certain variables from appearing in keys:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">CO2</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Plant             Type         Treatment       conc          uptake     </span></span>
<span><span class="co">#&gt;  Qn1    : 7   Quebec     :42   nonchilled:42   Min.   :  95   Min.   : 7.70  </span></span>
<span><span class="co">#&gt;  Qn2    : 7   Mississippi:42   chilled   :42   1st Qu.: 175   1st Qu.:17.90  </span></span>
<span><span class="co">#&gt;  Qn3    : 7                                    Median : 350   Median :28.30  </span></span>
<span><span class="co">#&gt;  Qc1    : 7                                    Mean   : 435   Mean   :27.21  </span></span>
<span><span class="co">#&gt;  Qc3    : 7                                    3rd Qu.: 675   3rd Qu.:37.12  </span></span>
<span><span class="co">#&gt;  Qc2    : 7                                    Max.   :1000   Max.   :45.50  </span></span>
<span><span class="co">#&gt;  (Other):42</span></span>
<span><span class="va">db2_noexclude</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autodb.html">autodb</a></span><span class="op">(</span><span class="va">CO2</span><span class="op">)</span></span>
<span><span class="va">db2_noexclude</span></span>
<span><span class="co">#&gt; database with 3 relations</span></span>
<span><span class="co">#&gt; 5 attributes: Plant, Type, Treatment, conc, uptake</span></span>
<span><span class="co">#&gt; relation Plant: Plant, Type, Treatment; 12 records</span></span>
<span><span class="co">#&gt;   key 1: Plant</span></span>
<span><span class="co">#&gt; relation Plant_conc: Plant, conc, Treatment, uptake; 84 records</span></span>
<span><span class="co">#&gt;   key 1: Plant, conc</span></span>
<span><span class="co">#&gt;   key 2: Treatment, conc, uptake</span></span>
<span><span class="co">#&gt; relation conc_uptake: conc, uptake, Type; 82 records</span></span>
<span><span class="co">#&gt;   key 1: conc, uptake</span></span>
<span><span class="co">#&gt; references:</span></span>
<span><span class="co">#&gt; Plant_conc.{Plant} -&gt; Plant.{Plant}</span></span>
<span><span class="co">#&gt; Plant_conc.{conc, uptake} -&gt; conc_uptake.{conc, uptake}</span></span>
<span><span class="va">graphviz_text2_noexclude</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gv.html">gv</a></span><span class="op">(</span><span class="va">db2_noexclude</span><span class="op">)</span></span>
<span><span class="fu">DiagrammeR</span><span class="fu">::</span><span class="fu"><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">grViz</a></span><span class="op">(</span><span class="va">graphviz_text2_noexclude</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-exclude_example-1.png" width="100%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autodb.html">autodb</a></span><span class="op">(</span><span class="va">CO2</span>, exclude <span class="op">=</span> <span class="st">"uptake"</span><span class="op">)</span></span>
<span><span class="va">db2</span></span>
<span><span class="co">#&gt; database with 2 relations</span></span>
<span><span class="co">#&gt; 5 attributes: Plant, Type, Treatment, conc, uptake</span></span>
<span><span class="co">#&gt; relation Plant: Plant, Type, Treatment; 12 records</span></span>
<span><span class="co">#&gt;   key 1: Plant</span></span>
<span><span class="co">#&gt; relation Plant_conc: Plant, conc, uptake; 84 records</span></span>
<span><span class="co">#&gt;   key 1: Plant, conc</span></span>
<span><span class="co">#&gt; references:</span></span>
<span><span class="co">#&gt; Plant_conc.{Plant} -&gt; Plant.{Plant}</span></span>
<span><span class="va">graphviz_text2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gv.html">gv</a></span><span class="op">(</span><span class="va">db2</span><span class="op">)</span></span>
<span><span class="fu">DiagrammeR</span><span class="fu">::</span><span class="fu"><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">grViz</a></span><span class="op">(</span><span class="va">graphviz_text2</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-exclude_example-2.png" width="100%"></p>
<p>There are also functions for doing each step of the database creation separately, including functional dependency detection and normalisation. See the vignette for more details.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=autodb" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/CharnelMouse/autodb/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/CharnelMouse/autodb/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/BSD-3-Clause" class="external-link">BSD_3_clause</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing autodb</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mark Webster <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3351-0686" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Webster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
