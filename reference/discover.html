<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Dependency discovery with DFD — discover • autodb</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dependency discovery with DFD — discover"><meta name="description" content="Finds all the minimal functional dependencies represented in a data frame."><meta property="og:description" content="Finds all the minimal functional dependencies represented in a data frame."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">autodb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/autodb.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/limits.html">Limitations</a></li>
    <li><a class="dropdown-item" href="../articles/nudge.html">A larger example: the nudge dataset</a></li>
    <li><a class="dropdown-item" href="../articles/null.html">Handling missing values</a></li>
    <li><a class="dropdown-item" href="../articles/plans.html">Planned improvements</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CharnelMouse/autodb/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Dependency discovery with DFD</h1>
      <small class="dont-index">Source: <a href="https://github.com/CharnelMouse/autodb/blob/master/R/discover.r" class="external-link"><code>R/discover.r</code></a></small>
      <div class="d-none name"><code>discover.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Finds all the minimal functional dependencies represented in a data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">discover</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FDHitsSep"</span>, <span class="st">"FDHitsJoint"</span>, <span class="st">"DFD"</span><span class="op">)</span>,</span>
<span>  keep_rownames <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span>,</span>
<span>  exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  exclude_class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dependants <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>,</span>
<span>  detset_limit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1L</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress_file <span class="op">=</span> <span class="st">""</span>,</span>
<span>  skip_bijections <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  accuracy <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  full_cache <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  store_cache <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>a data.frame, the relation to evaluate.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>a string, indicating which search algorithm to use. Currently,
this defaults to DFD. Alternative options are FDHitsSep and FDHitsJoint.</p></dd>


<dt id="arg-keep-rownames">keep_rownames<a class="anchor" aria-label="anchor" href="#arg-keep-rownames"></a></dt>
<dd><p>a logical or a string, indicating whether to include the
row names as a column. If a string is given, it is used as the name for the
column, otherwise the column is named "row". Like with the other column
names, the function returns an error if this results in duplicate column
names. Set to FALSE by default.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>a positive integer, indicating how many significant digits are
to be used for numeric and complex variables. A value of <code>NA</code> results
in no rounding. By default, this uses <code>getOption("digits")</code>, similarly
to <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></code>. See the "Floating-point variables" section below
for why this rounding is necessary for consistent results across different
machines. See the note in <code><a href="https://rdrr.io/r/base/print.default.html" class="external-link">print.default</a></code> about <code>digits &gt;=
  16</code>.</p></dd>


<dt id="arg-exclude">exclude<a class="anchor" aria-label="anchor" href="#arg-exclude"></a></dt>
<dd><p>a character vector, containing names of attributes to not
consider as members of determinant sets. If names are given that aren't
present in <code>df</code>, the user is given a warning.</p></dd>


<dt id="arg-exclude-class">exclude_class<a class="anchor" aria-label="anchor" href="#arg-exclude-class"></a></dt>
<dd><p>a character vector, indicating classes of attributes to
not consider as members of determinant_sets. Attributes are excluded if
they inherit from any given class.</p></dd>


<dt id="arg-dependants">dependants<a class="anchor" aria-label="anchor" href="#arg-dependants"></a></dt>
<dd><p>a character vector, containing names of all attributes for
which to find minimal functional dependencies for which they are the
dependant. By default, this is all of the attribute names. A smaller set of
attribute names reduces the amount of searching required, so can reduce the
computation time if only some potential dependencies are of interest.</p></dd>


<dt id="arg-detset-limit">detset_limit<a class="anchor" aria-label="anchor" href="#arg-detset-limit"></a></dt>
<dd><p>an integer, indicating the largest determinant set size
that should be searched for. By default, this is large enough to allow all
possible determinant sets. See Details for comments about the effect on the
result, and on the computation time.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>a logical, for whether to display progress to the user during
dependency search in <code>discover</code>.</p></dd>


<dt id="arg-progress-file">progress_file<a class="anchor" aria-label="anchor" href="#arg-progress-file"></a></dt>
<dd><p>a scalar character or a connection. If <code>progress</code>
is non-zero, determines where the progress is written to, in the same way
as the <code>file</code> argument for <code><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></code>.</p></dd>


<dt id="arg-skip-bijections">skip_bijections<a class="anchor" aria-label="anchor" href="#arg-skip-bijections"></a></dt>
<dd><p>a logical, indicating whether to skip some dependency
searches that are made redundant by discovered bijections between
attributes. This can significantly speed up the search if <code>df</code>
contains equivalent attributes early in column order, but results in
undefined behaviour if <code>accuracy &lt; 1</code>. See Details for more
information. Currently only implemented for DFD.</p></dd>


<dt id="arg-accuracy">accuracy<a class="anchor" aria-label="anchor" href="#arg-accuracy"></a></dt>
<dd><p>a numeric in (0, 1]: the accuracy threshold required in order
to conclude a dependency. Accuracy thresholds less than one are only
supported in DFD.</p></dd>


<dt id="arg-full-cache">full_cache<a class="anchor" aria-label="anchor" href="#arg-full-cache"></a></dt>
<dd><p>a logical, indicating whether to store information about
how sets of attributes group the relation records (stripped partitions).
Otherwise, only the number of groups is stored. Storing the stripped
partition is expected to let the algorithm run more quickly, but might be
inefficient for small data frames or small amounts of memory. Only relevant
for DFD.</p></dd>


<dt id="arg-store-cache">store_cache<a class="anchor" aria-label="anchor" href="#arg-store-cache"></a></dt>
<dd><p>a logical, indicating whether to keep cached information
to use when finding dependencies for other dependants. This allows the
algorithm to run more quickly by not having to re-calculate information,
but takes up more memory. Only relevant for DFD.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="functional_dependency.html">functional_dependency</a></code> object, containing the
discovered dependencies. The column names of <code>df</code> are stored in the
<code>attrs</code> attribute, in order, to serve as a default priority order for
the attributes during normalisation.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Column names for <code><a href="https://rdrr.io/r/stats/Fdist.html" class="external-link">df</a></code> must be unique.</p>
<p>There are two search algorithms available for finding dependencies: DFD, and
FDHits. These are described below.</p><div class="section">
<h3 id="dfd">DFD<a class="anchor" aria-label="anchor" href="#dfd"></a></h3>


<p>The DFD algorithm searches for determinant sets for each dependant attribute
separately, by traversing the powerset of the other (non-excluded)
attributes. It can roughly be considered as a depth-first search over
candidate determinant sets.</p>
<p>The implementation for DFD differs a little from the algorithm presented in
the original paper:</p><ul><li><p>Some attributes, or attribute types, can be designated, ahead of
time, as not being candidate members for determinant sets. This reduces the
number of candidate determinant sets to be searched, saving time by not
searching for determinant sets that the user would remove later anyway. The
dependants can also be trimmed in similar fashion, although this reduces
the search space linearly rather than exponentially.</p></li>
<li><p>Attributes that have a single unique value, i.e. are
constant, get attributed a single empty determinant set. In the standard
DFD algorithm, they would be assigned all the other non-excluded attributes
as length-one determinant sets. Assigning them the empty set distinguishes
them as constant, allowing for special treatment at normalisation and later
steps.</p></li>
<li><p>As was done in the original Python library, there is an extra case in
seed generation for when there are no discovered maximal non-dependencies.
In this case, we take all of the single-attribute nodes, then filter out by
minimal dependencies as usual. This is equivalent to taking the empty set
as the single maximal non-dependency.</p></li>
<li><p>There are three results when checking whether a candidate node is
minimal/maximal. TRUE indicates the node is minimal/maximal, as usual.
FALSE has been split into FALSE and NA. NA indicates that we can not yet
determine whether the node is minimal/maximal. FALSE indicates that we have
determined that it is not minimal/maximal, and we can set its category as
such. This is done by checking whether any of its adjacent
subsets/supersets are dependencies/non-dependencies, instead of waiting to
exhaust the adjacent subsets/supersets to visit when picking the next node
to visit.</p></li>
<li><p>We do not yet keep hashmaps to manage subset/superset relationships,
as described in Section 3.5 of the original paper.</p></li>
<li><p><code>skip_bijections</code> allows for additional optimisation for finding
functional dependencies when there are pairwise-equivalent attributes.</p></li>
<li><p>Missing values (NA) are treated as a normal value, with NA = NA being
true, and x = NA being false for any non-NA value of x.</p></li>
</ul></div>

<div class="section">
<h3 id="fdhits">FDHits<a class="anchor" aria-label="anchor" href="#fdhits"></a></h3>


<p>FDHits begins by sampling pairs of records for attributes in which their
values differ (difference sets). These difference sets render some
determinant-dependant pairings invalid, pruning the search space. If a
candidate pairing is not rendered invalid by the known difference sets, then
it's validated, resulting in either confirmation as a minimal functional
dependency, or discovery of new difference sets that make it invalid.</p>
<p>There are two variants. FDHitsSep performs a search for each dependant
attribute separately, in the same way as DFD. FDHitsJoint handles all
dependant attributes at the same time.</p>
<p>The implementation for FDHits differs a little from the algorithm presented
in the original paper:</p><ul><li><p>Some attributes, or attribute types, can be designated, ahead of
time, as not being candidate members for determinant sets. This reduces the
number of candidate determinant sets to be searched, saving time by not
searching for determinant sets that the user would remove later anyway. The
dependants can also be trimmed in similar fashion.</p></li>
<li><p>The search can be limited to determinant sets up to a given size.
This is also an option for DFD, but it's more useful for FDHits, due to the
search order.</p></li>
<li><p>As described in the paper, FDHitsSep and FDHitsJoint branch a search
into several child nodes: \(\mu_0\) for FDHitsJoint, and \(\mu_1\),
\(\mu_2\) etc. for both. The paper implies that the latter nodes are
visited in order. However, this causes the algorithm to not always work
correctly: for guaranteed correctness, they must be visited in reverse
order, with \(\mu_0\) able to be visited at any point. This correction is
expected to appear in a future paper.</p></li>
<li><p>The final algorithm in the paper automatically chooses between
FDHitsSep and FDHits Joint, depending on the number of initially-sampled
difference sets. This is not yet implemented.</p></li>
</ul></div>

<div class="section">
<h3 id="floating-point-variables">Floating-point variables<a class="anchor" aria-label="anchor" href="#floating-point-variables"></a></h3>


<p>Numerical/complex values, i.e. floating-point values, represent difficulties
for stating functional dependencies. A fundamental condition for stating
functional dependencies is that we can compare two values for the same
variable, and they are equivalent or not equivalent.</p>
<p>Usually, this is done by checking they're equal – this is the approach used
in <code>discover</code> – but we can use any comparison that is an equivalence
relation.</p>
<p>However, checking floating-point values for equality is not simple. <code>==</code>
is not appropriate, even when comparing non-calculated values we've read from
a file, because how a given number is converted into a float can vary by
computer architecture, meaning that two values can be considered equal on one
computer, and not equal on another. This can happen even if they're both
using 64-bit R, and even though all R platforms work with values conforming
to the same standard (see <code><a href="https://rdrr.io/r/base/double.html" class="external-link">double</a></code>). For example,
\(8.54917750000000076227\) and \(8.54917749999999898591\) are converted
into different floating-point representations on x86, but the same
representation on ARM, resulting in inequality and equality respectively.</p>
<p>For this and other reasons, checking numerical/complex values for
(near-)equality in R is usually done with <code><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></code>. This
determines values \(x\) and \(y\) to be equal if their absolute/relative
absolute difference is within some tolerance value. However, we can not use
this. Equivalence relations must be transitive: if we have values \(x\),
\(y\), and \(z\), and \(x\) is equivalent to both \(y\) and \(z\),
then \(y\) and \(z\) must also be equivalent. This tolerance-based
equivalence is not transitive: it is reasonably straightforward to set up
three values so that the outer values are far enough apart to be considered
non-equivalent, but the middle value is close enough to be considered
equivalent to both of them. Using this to determine functional dependencies,
therefore, could easily result in a large number of inconsistencies.</p>
<p>This means we have no good option for comparing numerical/complex values
as-is for equivalence, with consistent results across different machines, so
we must treat them differently. We have three options:</p><ul><li><p>Round/truncate the values, before comparison, to some low degree of precision;</p></li>
<li><p>Coerce the values to another class before passing them into <code>discover</code>;</p></li>
<li><p>Read values as characters if reading data from a file.</p></li>
</ul><p><code>discover</code> takes the first option, with a default number of significant
digits low enough to ensure consistency across different machines. However,
the user can also use any of these options when processing the data before
passing it to <code>discover</code>. The third option, in particular, is
recommended if reading data from a file.</p>
</div>

<div class="section">
<h3 id="skipping-bijections">Skipping bijections<a class="anchor" aria-label="anchor" href="#skipping-bijections"></a></h3>


<p>Skipping bijections allows skipping redundant searches. For example, if the
search discovers that <code>A -&gt; B</code> and <code>B -&gt; A</code>, then only one of those
attributes is considered for the remainder of the search. Since the search
time increases exponentially with the number of attributes considered, this
can significantly speed up search times. At the moment, this is only be done
for bijections between single attributes, such as <code>A &lt;-&gt; B</code>; if <code>A
&lt;-&gt; {B, C}</code>, nothing is skipped. Whether bijections are skipped doesn't
affect which functional dependencies are present in the output, but it might
affect their order.</p>
<p>Skipping bijections for approximate dependencies, i.e. when <code>accuracy &lt; 1</code>,
should be avoided: it can result in incorrect output, since an approximate
bijection doesn't imply equivalent approximate dependencies.</p>
</div>

<div class="section">
<h3 id="limiting-the-determinant-set-size">Limiting the determinant set size<a class="anchor" aria-label="anchor" href="#limiting-the-determinant-set-size"></a></h3>


<p>Setting <code>detset_limit</code> smaller than the largest-possible value has
different behaviour for different search algorithms, but the result is always
that <code>discover(x, 1, detset_limit = n)</code> is equivalent to doing a full
search, <code>fds &lt;- discover(x, 1)</code>, then
filtering by determinant set size post-hoc, <code>fds[lengths(detset(fds)) &lt;=
n]</code>.</p>
<p>For DFD, the naive way to implement it is by removing determinant sets larger
than the limit from the search tree for possible functional dependencies for
each dependant. However, this usually results in the search taking much more
time than without a limit.</p>
<p>For example, suppose we search for determinant sets for a dependant that has
none (the dependant is the only key for <code>df</code>, for example). Using DFD,
we begin with a single attribute, then add other attributes one-by-one, since
every set gives a non-dependency. When we reach a maximum-size set, we can
mark all subsets as also being non-dependencies.</p>
<p>With the default limit, there is only one maximum-size set, containing all of
the available attributes. If there are \(n\) candidate attributes for
determinants, the search finishes after visiting \(n\) sets.</p>
<p>With a smaller limit \(k\), there are \(\binom{n}{k}\) maximum-size sets
to explore. Since a DFD search adds or removes one attribute at each step,
this means the search must take at least \(k - 2 + 2\binom{n}{k}\) steps,
which is larger than \(n\) for all non-trivial cases \(0 &lt; k \leq n\).</p>
<p>We therefore use a different approach, where any determinant sets above the
size limit are not allowed to be candidate seeds for new search paths, and
any discovered dependencies with a size above the limit are discard at the
end of the entire DFD search. This means that nodes for determinant sets
above the size limit are only visited in order to determine maximality of
non-dependencies within the size limit. It turns out to be rare that this
results in a significant speed-up, but it never results in the search having
to visit more nodes than it would without a size limit, so the average search
time is never made worse.</p>
<p>FDHits implements <code>detset_limit</code> more naturally, since it explores
determinant sets in increasing set size. Limiting the size is simply a matter
of only visiting new nodes if their determinant set is within the given size
limit.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>DFD: Abedjan Z., Schulze P., Naumann F. (2014) DFD: efficient functional
dependency discovery. <em>Proceedings of the 23rd ACM International Conference
on Conference on Information and Knowledge Management (CIKM '14). New York,
U.S.A.</em>, 949–958.</p>
<p>FDHits: Bleifuss T., Papenbrock T., Bläsius T., Schirneck M, Naumann F.
(2024) Discovering Functional Dependencies through Hitting Set Enumeration.
<em>Proc. ACM Manag. Data</em>, <strong>2, 1</strong>, 43:1–24.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># simple example</span></span></span>
<span class="r-in"><span><span class="fu">discover</span><span class="op">(</span><span class="va">ChickWeight</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 functional dependencies</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 attributes: weight, Time, Chick, Diet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time, Chick -&gt; weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Chick -&gt; Diet</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example with spurious dependencies</span></span></span>
<span class="r-in"><span><span class="fu">discover</span><span class="op">(</span><span class="va">CO2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 functional dependencies</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 attributes: Plant, Type, Treatment, conc, uptake</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Treatment, conc, uptake -&gt; Plant</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            conc, uptake -&gt; Type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   Plant -&gt; Type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   Plant -&gt; Treatment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Plant, conc -&gt; uptake</span>
<span class="r-in"><span><span class="co"># exclude attributes that can't be determinants.</span></span></span>
<span class="r-in"><span><span class="co"># in this case, the numeric attributes are now</span></span></span>
<span class="r-in"><span><span class="co"># not determined by anything, because of repeat measurements</span></span></span>
<span class="r-in"><span><span class="co"># with no variable to mark them as such.</span></span></span>
<span class="r-in"><span><span class="fu">discover</span><span class="op">(</span><span class="va">CO2</span>, exclude_class <span class="op">=</span> <span class="st">"numeric"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 functional dependencies</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 attributes: Plant, Type, Treatment, conc, uptake</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plant -&gt; Type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plant -&gt; Treatment</span>
<span class="r-in"><span><span class="co"># include only dependencies with dependants of interest.</span></span></span>
<span class="r-in"><span><span class="fu">discover</span><span class="op">(</span><span class="va">CO2</span>, dependants <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Treatment"</span>, <span class="st">"uptake"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 functional dependencies</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 attributes: Plant, Type, Treatment, conc, uptake</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Plant -&gt; Treatment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plant, conc -&gt; uptake</span>
<span class="r-in"><span><span class="co"># approximate dependencies, that hold if we remove up to 20% of the rows</span></span></span>
<span class="r-in"><span><span class="co"># (these need not agree on which rows are removed)</span></span></span>
<span class="r-in"><span><span class="fu">discover</span><span class="op">(</span><span class="va">CO2</span>, method <span class="op">=</span> <span class="st">"DFD"</span>, accuracy <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 functional dependencies</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 attributes: Plant, Type, Treatment, conc, uptake</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      uptake -&gt; Plant</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Plant -&gt; Type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      uptake -&gt; Type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Plant -&gt; Treatment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      uptake -&gt; Treatment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      uptake -&gt; conc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Plant, conc -&gt; uptake</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Webster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

